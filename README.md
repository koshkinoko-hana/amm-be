#Сайт факультета ПММ
## Описание

[Nest](https://github.com/nestjs/nest)

## Первый запуск

Заранее создайте схему в базе данных MySQL с названием `amm_db`
В корне проекта добавьте файл с названием `.env`, в нём будут храниться конфигурационные данные. Добавьте два новых поля `DB_USERNAME` и `DB_PASSWORD`
```env
DB_USERNAME=username 
DB_PASSWORD=password
```
где username и password - данные пользователя MySQL, имеющего доступ к созданной схеме.


## Установка
Перед запуском приложения выполните установку. Для этого потребуется установленный [Node.js](https://nodejs.org/en/)
В консоли в корне проекта выполните команду
```bash
$ npm install
```
Теперь необходимо добавить таблицы в БД. Каждое обновление структуры базы данных называется миграцией. В данном проекте миграции генерируются MikroORM и для обновления схемы БД их нужно запустить командой
```bash
$ npm run migration:up
```

## Запуск приложения

```bash
# этот режим запуска - базовый
$ npm run start

# Этот режим запуска позволяет менять ваш проект в режиме реального времени, 
# все изменения применятся к проекту без перезапуска 
$ npm run start:dev

# режим продакшена
$ npm run start:prod
```

## Структура проекта
Проект имеет модульную структуру. На данный момент имеются два корневых модуля.

### Модуль common
Здесь содержатся модули общего назначения. Классы соответствующие таблицам БД, DTO (структуры данных, принимаемые и возвращаемые через REST), модуль логгера, утилиты.

### Модуль admin
Модуль, отвечающий за данные админпанели. Он содержит модуль-пример Position, предоставляющий классическую структуру эндпоинтов REST. Эндпоинты описываются в `controller`. Обработка данных выполняется в `service`, поэтому в контроллере вызывается service того же модуля. В сервисе вы можете увидеть пример работы с БД через  MikroORM.